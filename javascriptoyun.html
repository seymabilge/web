<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Kart E≈üle≈ütirme Oyunu ‚Äì 4x4</title>
<style>
    body {
        font-family: Arial, sans-serif;
        text-align: center;
        background: #222;
        color: #fff;
        margin: 0;
        padding: 20px;
    }

    h1 { margin-bottom: 10px; }

    #stats {
        margin: 15px 0;
        font-size: 20px;
    }

    #game {
        width: 520px;
        margin: auto;
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 10px;
    }

    .card {
        width: 120px;
        height: 120px;
        background: #444;
        border-radius: 8px;
        cursor: pointer;
        position: relative;
        transform-style: preserve-3d;
        transition: transform .4s;
    }

    .card.flip {
        transform: rotateY(180deg);
    }

    .front, .back {
        position: absolute;
        width: 100%;
        height: 100%;
        backface-visibility: hidden;
        border-radius: 8px;
    }

    .back {
        background: #666;
    }

    .front {
        transform: rotateY(180deg);
        background-size: cover;
        background-position: center;
    }
</style>
</head>
<body>

<h1>Kart E≈üle≈ütirme Oyunu</h1>

<div id="stats">
    ‚è± S√ºre: <span id="time">0</span> sn  
    | üéØ Hamle: <span id="moves">0</span>
</div>

<div id="game"></div>

<script>
const images = [
  "bizimkiler/ben.jpeg",
  "bizimkiler/dilek.png",
  "bizimkiler/hakan.jpeg",
  "bizimkiler/kadir.jpeg",
  "bizimkiler/mustafa.jpeg",
  "bizimkiler/√∂mer.png",
  "bizimkiler/saynur.png",
  "bizimkiler/tuba.png"
];

let cards = [...images, ...images];

let firstCard = null;
let lock = false;
let moves = 0;
let time = 0;
let timerStarted = false;
let timerInterval;

function shuffle(array) {
    return array.sort(() => Math.random() - 0.5);
}

function startTimer() {
    if (!timerStarted) {
        timerStarted = true;
        timerInterval = setInterval(() => {
            time++;
            document.getElementById("time").textContent = time;
        }, 1000);
    }
}

function setupGame() {
    const game = document.getElementById("game");
    game.innerHTML = "";
    cards = shuffle(cards);

    cards.forEach(src => {
        const card = document.createElement("div");
        card.className = "card";

        card.innerHTML = `
            <div class="front" style="background-image:url('${src}')"></div>
            <div class="back"></div>
        `;

        card.addEventListener("click", () => flip(card, src));

        game.appendChild(card);
    });
}

function flip(card, img) {
    if (lock || card.classList.contains("flip")) return;

    startTimer();
    card.classList.add("flip");

    if (!firstCard) {
        firstCard = { card, img };
    } else {
        moves++;
        document.getElementById("moves").textContent = moves;

        if (firstCard.img === img) {
            firstCard = null;
        } else {
            lock = true;
            setTimeout(() => {
                card.classList.remove("flip");
                firstCard.card.classList.remove("flip");
                firstCard = null;
                lock = false;
            }, 800);
        }
    }
}

// Oyun bitti mi kontrol
setInterval(() => {
    const flipped = document.querySelectorAll(".card.flip").length;
    if (flipped === 16) {
        clearInterval(timerInterval);
        alert(`Tebrikler! üéâ\nS√ºre: ${time} sn\nHamle: ${moves}`);
    }
}, 500);

setupGame();
</script>

</body>
</html>
